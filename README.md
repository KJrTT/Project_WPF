# Календарь-заметник (Calendar Notes)

WPF приложение для управления календарем и заметками с использованием PostgreSQL базы данных.

## Требования

- .NET 8.0
- PostgreSQL 14+
- Visual Studio 2022 или VS Code
- Npgsql.EntityFrameworkCore.PostgreSQL (NuGet пакет)

## Установка и настройка

### 1. Настройка базы данных

1. Установите PostgreSQL на ваш компьютер
2. Создайте базу данных с именем "Calendar"
3. Выполните SQL скрипт `DatabaseInit.sql` для создания таблиц и тестовых данных

### 2. Настройка подключения к базе данных

Отредактируйте строку подключения в файле `Services/DatabaseService.cs`:

```csharp
optionsBuilder.UseNpgsql("Host=localhost;Port=5432;Database=Calendar;Username=postgres;Password=YOUR_PASSWORD;");
```

Замените `YOUR_PASSWORD` на пароль вашего пользователя PostgreSQL.

Альтернативно, вы можете использовать файл конфигурации `appsettings.json` для хранения строки подключения.

### 3. Запуск приложения

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/KJrTT/Project_WPF.git -b BetaApp3
   ```
2. Откройте решение в Visual Studio
3. Восстановите NuGet пакеты
4. Соберите и запустите проект

## Функциональность

### Календарь
- Отображение текущего месяца с днями недели
- Выделение текущего дня
- Различные цвета для выходных дней
- Навигация между месяцами с помощью кнопок
- Отображение количества заметок для каждого дня
- Отображение праздников
- Смена светлой темы -> на темную тему

### Заметки
- Добавление новых заметок с заголовком, содержанием и датой
- Просмотр списка всех заметок с возможностью сортировки
- Редактирование и удаление существующих заметок
- Поиск заметок по ключевым словам
- Валидация вводимых данных

## Структура проекта

- `Models/` 
  - `Note.cs` - модель данных заметки
  - `CalendarDay.cs` - модель дня календаря
- `Services/`
  - `DatabaseService.cs` - сервис работы с БД
  - `NoteService.cs` - бизнес-логика заметок
- `Views/`
  - `MainWindow.xaml` - главное окно приложения
  - `AddEditNoteWindow.xaml` - окно добавления/редактирования заметки
- `ViewModels/`
  - `MainViewModel.cs` - ViewModel главного окна
  - `NoteViewModel.cs` - ViewModel для работы с заметками
- `Converters/`
  - `BoolToColorConverter.cs` - конвертер для визуализации выходных дней
- `Resources/`
  - `Styles.xaml` - ресурсы стилей приложения

## Использование

1. **Добавление заметки**: 
   - Нажмите кнопку "Добавить заметку" в правой панели
   - Заполните форму и нажмите "Сохранить"

2. **Редактирование заметки**:
   - Дважды кликните по заметке в списке
   - Внесите изменения и сохраните

3. **Удаление заметки**:
   - Выделите заметку и нажмите кнопку "Удалить"

4. **Поиск заметок**:
   - Введите ключевые слова в поле поиска

5. **Навигация по календарю**:
   - Используйте стрелки "<" и ">" для переключения между месяцами
   - Клик по дню отфильтрует заметки по выбранной дате

## Технологии

- WPF (.NET 8.0)
- Entity Framework Core 8.0
- PostgreSQL 14+
- MVVM архитектура
- XAML для UI
- LINQ для работы с данными
