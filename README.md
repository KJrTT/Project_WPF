# Календарь-заметник (Calendar Notes)

WPF приложение для управления календарем и заметками с использованием PostgreSQL базы данных.

## Требования

- .NET 8.0
- PostgreSQL 14+
- Visual Studio 2022 или VS Code
- Npgsql.EntityFrameworkCore.PostgreSQL (NuGet пакет)

## Установка и настройка

### 1. Настройка базы данных

1. Установите PostgreSQL на ваш компьютер
2. Создайте базу данных с именем "Calendar"
3. Выполните SQL скрипт `DatabaseInit.sql` для создания таблиц и тестовых данных

### 2. Настройка подключения к базе данных

Отредактируйте строку подключения в файле `Services/DatabaseService.cs`:

```csharp
optionsBuilder.UseNpgsql("Host=localhost;Port=5432;Database=Calendar;Username=postgres;Password=YOUR_PASSWORD;");
```

Замените `YOUR_PASSWORD` на пароль вашего пользователя PostgreSQL.

Альтернативно, вы можете использовать файл конфигурации `appsettings.json` для хранения строки подключения.
### 3. Настройка NuGet - пакета:
   - Установка EntityFrameworkCore ```dotnet add package Npgsql.EntityFrameworkCore.PostgreSQL```
     
### 4. Запуск приложения

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/KJrTT/Project_WPF.git -b BetaApp3
   ```
2. Откройте решение в Visual Studio (2 раза кликнуть по файлу .sln)
3. Восстановите NuGet пакеты
4. Запустите проект (На кнопку или F5)

## Соблюдение требований по ТЗ

### Привязка данных
- Полная привязка данных через MVVM паттерн
- ObservableCollection для динамического обновления UI
- INotifyPropertyChanged для реактивности

### Анимация
- Эффекты при наведении на элементы интерфейса

### Паттерн проектирования
- Чистая реализация MVVM:
  - `Models/` - бизнес-логика
  - `ViewModels/` - посредники между View и Model
  - `Views/` - только представление
  - `Service` - обращение к самой БД

### Многооконность
- Главное окно с календарем и списком заметок
- Диалоговое окно добавления заметок
- Окно подтверждения удаления
- Уведомление пользователя

## Функциональность

### Календарь
- Отображение текущего месяца с днями недели
- Выделение текущего дня
- Различные цвета для выходных дней
- Навигация между месяцами с помощью кнопок
- Отображение количества заметок для каждого дня
- Отображение праздников
- Смена светлой темы -> на темную тему

### Заметки
- Добавление новых заметок с заголовком, содержанием и датой
- Просмотр списка всех заметок
- Удаление существующих заметок
- Валидация вводимых данных
- Настройка для уведомления пользователя

## Структура проекта

- `Models/` 
  - `Note.cs` - модель данных заметки
  - `CalendarDay.cs` - модель дня календаря
  - `Holiday` - модель для выходных дней
- `Services/`
  - `DatabaseService.cs` - сервис работы с БД
- `Views/`
  - `MainWindow.xaml` - главное окно приложения
  - `AddTaskWindow.xaml` - окно добавления заметки
  - `NotificationWindow.xaml` - окно для отображения уведомлений
  - `DarkTheme.xaml` - тёмная тема календаря
  - `LightTheme.xaml` - светлая тема календаря
- `ViewModels/`
  - `AddTaskViewModel.cs` - ViewModel для работы с заметками

## Использование

1. **Добавление заметки**: 
   - Нажмите кнопку "Добавить заметку" в правой панели
   - Заполните форму и нажмите "Сохранить"

2. **Удаление заметки**:
   - Нажмите кнопку "Удалить"
   - Подтвердите удаление

3. **Навигация по календарю**:
   - Используйте стрелки "<" и ">" для переключения между месяцами
   - Клик по дню отфильтрует заметки по выбранной дате

4. **Включение тёмной темы**:
   - Нажмите на значок "луны"
   - Для того чтобы включить обратно светлую тему, нажмите на значок "солнца" 

## Технологии

- WPF (.NET 8.0)
- Entity Framework Core 8.0
- PostgreSQL 14+
- MVVM архитектура
- XAML для UI
- LINQ для работы с данными
